# 형 변환(Type Conversions)

함수와 연산자에 전달되는 값은 대부분 적절한 자료형으로 자동 변환됩니다. 이런 과정을 "형 변환"이라고 합니다.

`alert`가 전달받은 값을 문자열로 자동 변환하여 보여주는 것이나, 수학 연산에서 전달된 값이 숫자로 변환되는 경우가 형 변환의 대표적인 예시입니다.

물론, 전달받은 값을 원하는 형으로 변환하기 위해 명시적 형 변환을 해줘야 하는 경우도 있습니다.

```smart header="객체에 대해선 다루지 않습니다."
이 챕터에서는 객체 형 변환에 대해선 다루지 않고, 원시 값으로의 형 변환에 대해 먼저 다루도록 하겠습니다. 객체에 대한 학습이 끝난 후, <info:object-toprimitive> 에서 객체를 대상으로 하는 형 변환이 어떻게 이뤄지는지 알아볼 예정입니다.
```

## 문자열로 변환(ToString)

문자열 형태의 값이 필요한 경우, 문자열로 형 변환이 일어납니다.

`alert(value)`에서 값을 보여주려면 문자열 값이 필요한데, 이 때 일어나는 변환이 문자열로의 형 변환에 대한 예가 될 수 있습니다.

`String(value)`함수를 호출하면, 값을 문자열로 변환 할 수도 있습니다.

```js run
let value = true;
alert(typeof value); // boolean

*!*
value = String(value); // 이제 value 변수엔 문자열 "true"가 저장됩니다.
alert(typeof value); // string
*/!*
```

문자열 변환은 대부분 명확합니다. `false`는 문자열 `"false"`로, `null`은 문자열 `"null"`로 변환됩니다.

## 숫자로 변환(ToNumber)

숫자 형으로의 변환은 수학과 관련된 함수와 표현식에서 자동으로 일어납니다.

숫자형이 아닌 값에 나누기 `/`를 적용한 경우가 그 예입니다.

```js run
alert( "6" / "2" ); // 3, 문자열은 숫자형으로 변경되어 연산이 수행됩니다.
```

주어진 값, `value`를 명시적으로 숫자형으로 변환하기 위해 `Number(value)`함수를 사용할 수 있습니다.

```js run
let str = "123";
alert(typeof str); // string

let num = Number(str); // 숫자 123으로 변환됩니다.

alert(typeof num); // number
```

폼(form)을 통해 값을 입력 받을 때와 같이, 문자열 형태로 값이 넘어오는 경우에 이런 명시적 형 변환이 일어납니다. 기대되는 값은 숫자이기 때문이죠.

만약 전달받은 문자열이 숫자로 구성되어 있지 않다면, 형 변환의 결과는 `NaN`이 됩니다. 예시를 살펴보도록 하겠습니다.

```js run
let age = Number("an arbitrary string instead of a number");

alert(age); // NaN, 형 변환에 실패했습니다.
```

아래는 숫자 형으로 변환 시 적용되는 규칙입니다.

| 전달받은 값 |  형 변환 후 |
|-------|-------------|
|`undefined`|`NaN`|
|`null`|`0`|
|<code>true&nbsp;and&nbsp;false</code> | `1` 과 `0` |
| `string` | 문자열의 처음과 끝에 있는 공백이 제거됩니다. 공백 제거 후, 남아있는 문자열이 없다면 형 변환의 결과는 `0`이 됩니다. 그렇지 않은 경우는 문자열에서 숫자를 읽습니다. 변환이 실패하면 `NaN`이 반환됩니다. |

예시:

```js run
alert( Number("   123   ") ); // 123
alert( Number("123z") );      // NaN ("z"를 숫자로 변환하는데 실패함)
alert( Number(true) );        // 1
alert( Number(false) );       // 0
```

 `null`과 `undefined`은 숫자로의 형 변환 시 결과가 다르다는 점에 유의하시기 바랍니다. `null`은 0이 되고 `undefined`는 `NaN`이 됩니다.

````smart header="더하기 연산 '+'는 문자열을 합쳐줍니다."
수학과 관련된 대부분의 연산은 전달받은 값을 숫자 형으로 변환합니다. 하지만, 덧셈 연산 `+`는 예외에 속합니다. 피연산자 값 중 하나가 문자열이면 다른 피연산자도 문자열로 변환됩니다.

모든 피연산자가 문자열로 변환되고 나면 문자열을 연결합니다.

```js run
alert( 1 + '2' ); // '12' (string to the right)
alert( '1' + 2 ); // '12' (string to the left)
```

인수 중 적어도 하나가 문자열일 때만 이런 변환이 발생합니다. 그렇지 않은 경우는 위에서 언급한 바와 같이 숫자로의 형 변환이 일어납니다.
````

## 불리언으로 변환(ToBoolean)

불리언 형 변환은 가장 간단합니다.

논리 연산을 수행할 때, 불리언으로의 형 변환이 발생합니다(조건 테스트 등의 논리 연산에 관한 내용은 추후에 다루도록 하겠습니다.). `Boolean(value)`를 호출하면 명시적으로 불리언으로의 형 변환을 수행할 수 있습니다.

불리언 형 변환 규칙은 다음과 같습니다.

- `0`, 빈 문자열(''), `null`, `undefined`, `NaN`과 같이 직관적으로 "비어있다고" 느껴지는 값은 `false`가 됩니다.
- 그외에 값은 `true`로 변환 됩니다.

예:

```js run
alert( Boolean(1) ); // true
alert( Boolean(0) ); // false

alert( Boolean("hello") ); // true
alert( Boolean("") ); // false
```

````warn header="주의: 문자열 `\"0\"`은 `true`입니다."
PHP 등의 일부 언어에선 문자열 `"0"`을 `false`로 취급합니다. 그러나 자바스크립트에선, 비어 있지 않은 문자열은 언제나 `true`입니다.

```js run
alert( Boolean("0") ); // true
alert( Boolean(" ") ); // 공백 역시 true로 변환됩니다 (비어있지 않은 문자열이기 때문입니다.)
```
````


## 요약 

문자열, 숫자, 논리형으로의 형 변환은 가장 많이 일어나는 형 변환입니다.

**`ToString`**은 뭔가를 출력할 때 일어납니다. `String(value)`을 사용하면 문자열로의 형 변환을 실행할 수 있습니다. 원시 자료형에 대한 문자열로의 형 변환은 대부분 아주 명확한 방식으로 일어납니다.

**`ToNumber`**는 수학 연산에서 발생합니다. `Number(value)`로 실행할 수 있습니다.

숫자 형으로의 변환은 다음 규칙을 따릅니다.

| 전달받은 값 |  형 변환 후 |
|-------|-------------|
|`undefined`|`NaN`|
|`null`|`0`|
|<code>true&nbsp;/&nbsp;false</code> | `1 / 0` |
| `string` | 전달받은 문자열을 그대로 읽되, 처음과 끝의 공백은 무시됩니다. 문자열이 비어있다면 `0`이 되고, 오류 발생시 `NaN`이 됩니다. |

**`ToBoolean`**은 논리적 연산에서 발생합니다. `Boolean(value)`으로 실행할 수 있습니다.

불리언으로의 형 변환은 다음 규칙을 따릅니다.

| 전달받은 값 |  형 변환 후 |
|-------|-------------|
|`0`, `null`, `undefined`, `NaN`, `""` |`false`|
|any other value| `true` |


대부분의 규칙은 이해하고 기억하기 쉽습니다. 아래는 형 변환에서 자주 일어나는 실수로, 예외상황이기 때문에 따로 기억해야 합니다.

- 숫자 형으로의 변환 시 `undefined`는 `0`이 아니라 `NaN`으로 변환됩니다.
- `"0"`과 `"   "`같은 공백은 불리언으로 형 변환 시 true가 됩니다.

객체 자료형에 대해서는 여기서 다루지 않았습니다. 자바스크립트에 대한 기본적인 학습이 끝난 이후에, <info:object-toprimitive>에서 객체 자료형으로의 형 변환에 집중해서 학습하도록 하겠습니다.
